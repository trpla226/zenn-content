---
title: "Modern UI Packを使ったプロジェクトをAndroid向けにビルドしようとしたらエラーが出た話"
emoji: "😎"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["Unity", "Android"]
published: false
---

Asset Storeのセールで購入したModern UI Pack。

Android向けのビルドに切り替えて.apkにビルドしようとすると

The type or namespace name 'InitializeOnLoadAttribute' could not be found とかいうメッセージが出る。

メッセージの内容としてはよく見かけるものだが、それゆえに対応方法がぱっと思いつかない。Visual Studioで見るとなんのエラーも出ていない。Windows向けのビルドであれば問題なくビルドできたのに。

エラーメッセージで検索したところ、似たエラーメッセージで困っているという質問と回答が見つかった。

https://answers.unity.com/questions/1114080/the-type-or-namespace-name-unityeditor-could-not-b-2.html

http://wiki.unity3d.com/index.php/Special_Folder_Names_in_your_Assets_Folder?_ga=2.180968551.113932659.1608636692-561515803.1603285146

Assetsフォルダ直下に置かれたEditorという名前のフォルダは特別扱いされ、Unityエディタからしか使われなくなると書かれている。

Assets/Modern UI Pack/Editor フォルダを（Sceneではなく）Projectのヒエラルキー上にドラッグアンドドロップして移動する。

Please uncheck 'Scripts Only Build' and build again と言われるので、チェックを外してもう一度やってみる。

無事インストールできた。

Modern UI Packはエディタ上でコントロールパネルを表示して設定を行うことができたり、Unityのメニューからそのコントロールパネルを開いたりできるようになっている。おそらくこれを実現するためのUnityエディタ拡張スクリプトが、Android向けのビルドでは依存性が解決できずにエラーにエラーになっていたに違いない。


環境
====

Windows 10
Unity 2019.4.14f1 Personal
